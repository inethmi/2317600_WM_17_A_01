;/*FB_PKG_DELIM*/

__d("BillingClipboardCopy",["Clipboard"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("Clipboard").copy(a)}g["default"]=a}),98);
__d("PolarisEmailSignupRoot.react",["PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthConstants","PolarisAuthLimitedRegistrationHelpers","PolarisFBConnectHelpers","PolarisLoginAndSignupPage.react","PolarisLoginForceAuthentication.react","PolarisOneTapLogin","PolarisQueryParams","PolarisReactRedux","PolarisSignupActions","react","usePolarisGetQuery","usePolarisGetQueryResponse"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=new Set([d("PolarisAuthActionConstants").AUTH.fbLogin,d("PolarisAuthActionConstants").AUTH.signup]);function l(a){a=c("usePolarisGetQuery")("/api/v1/web/login_page/");var b=c("usePolarisGetQueryResponse")(a),e=j(!1),f=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),g=d("PolarisReactRedux").useSelector(d("PolarisFBConnectHelpers").isFBConnected),l=d("PolarisReactRedux").useDispatch();i(function(){if(!e.current&&!k.has(f)){var a=d("PolarisQueryParams").parseQueryParams();l(d("PolarisAuthActions").loadLoginOrSignupPage(d("PolarisAuthActionConstants").AUTH.signup,a,g,d("PolarisOneTapLogin").isOneTapLoginEligible(),b.gdpr_required,b.tos_version))}e.current=!0},[f,l,g,e,b]);d("PolarisAuthLimitedRegistrationHelpers").hasRestrictedRegistration()&&l(d("PolarisSignupActions").setShowRegulatoryConsentModal());return!k.has(f)?null:h.jsx(c("PolarisLoginAndSignupPage.react"),{pageType:d("PolarisAuthConstants").AuthPageType.Signup})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.props.routeProps.force_authentication;if(b===!0)return h.jsx(c("PolarisLoginForceAuthentication.react"),{});else return h.jsx(l,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDirectMobileMessageRequestRootDeferred.react",["IGDInboxMobileRoot.react","IGDMessageRequestLeftRail.react","IGDPageSetup.react","IGDShellMobile.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.placeholder;return h.jsx(c("IGDShellMobile.react"),{children:h.jsx(c("IGDPageSetup.react"),{placeholder:a,children:h.jsx(c("IGDInboxMobileRoot.react"),{leftRail:h.jsx(c("IGDMessageRequestLeftRail.react"),{isMobile:!0})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFairplayLicenseHandler",["EventEmitter","FBLogger","JSResourceForInteraction","Promise","SubscriptionsHandler","cr:1335238","unrecoverableViolation"],(function(a,b,c,d,e,f,g){var h,i=c("JSResourceForInteraction")("XHRRequest").__setRef("VideoPlayerFairplayLicenseHandler"),j=window.WebKitMediaKeys;a=function(a){babelHelpers.inheritsLoose(d,a);function d(d,e,f,g){var h;h=a.call(this)||this;h.$VideoPlayerFairplayLicenseHandler5=new(c("SubscriptionsHandler"))();h.$VideoPlayerFairplayLicenseHandler1=e;h.$VideoPlayerFairplayLicenseHandler2=d;h.$VideoPlayerFairplayLicenseHandler3=f;h.$VideoPlayerFairplayLicenseHandler4=g;h.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("cr:1335238").listen(e,"webkitneedkey",function(a){try{h.$VideoPlayerFairplayLicenseHandler6(a.initData)}catch(a){h.$VideoPlayerFairplayLicenseHandler7()}}));return h}var e=d.prototype;e.destroy=function(){this.$VideoPlayerFairplayLicenseHandler5.release(),this.$VideoPlayerFairplayLicenseHandler1=null,this.$VideoPlayerFairplayLicenseHandler4=null};e.$VideoPlayerFairplayLicenseHandler6=function(a){var d=this,e=this.$VideoPlayerFairplayLicenseHandler1;if(e==null)return;var f=new Uint16Array(a.buffer);f=String.fromCharCode.apply(null,f).substring(8);var g;if(e.webkitKeys==null){if(j!=null&&j.isTypeSupported("com.apple.fps.1_0","video/mp4"))g="com.apple.fps.1_0";else throw c("unrecoverableViolation")("Key System not supported","FairplayLicenseHandler");e.webkitSetMediaKeys(new j(g))}g=e.webkitKeys;if(g==null)throw c("unrecoverableViolation")("Could not create MediaKeys","FairplayLicenseHandler");e=this.concatInitDataIdAndCertificate(a,f);a=g.createSession("video/mp4",e);if(!a)throw c("unrecoverableViolation")("Could not create key session","FairplayLicenseHandler");a.contentId=f;this.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("cr:1335238").listen(a,"webkitkeymessage",function(a){d.$VideoPlayerFairplayLicenseHandler8(a.target,a.message)}),b("cr:1335238").listen(a,"webkitkeyerror",function(a){d.emit("error",{error:"Fairplay webkitkeyerror"})}))};e.concatInitDataIdAndCertificate=function(a,b){var c=new Uint16Array(new ArrayBuffer(b.length*2));for(var d=0,e=b.length;d<e;d++)c[d]=b.charCodeAt(d);b=window.atob(this.$VideoPlayerFairplayLicenseHandler2);d=new Uint8Array(new ArrayBuffer(b.length));for(e=0;e<b.length;e++)d[e]=b.charCodeAt(e);e=0;b=new ArrayBuffer(a.byteLength+4+c.byteLength+4+d.byteLength);var f=new DataView(b),g=new Uint8Array(b,e,a.byteLength);g.set(a);e+=a.byteLength;f.setUint32(e,c.byteLength,!0);e+=4;g=new Uint16Array(b,e,c.byteLength/2);g.set(c);e+=g.byteLength;f.setUint32(e,d.byteLength,!0);e+=4;a=new Uint8Array(b,e,d.byteLength);a.set(d);return new Uint8Array(b,0,b.byteLength)};e.$VideoPlayerFairplayLicenseHandler8=function(a,c){var d=this,e=window.btoa(String.fromCharCode.apply(null,new Uint8Array(c)));if(a.contentId==null||a.contentId===""){this.$VideoPlayerFairplayLicenseHandler9();return}var f=this.$VideoPlayerFairplayLicenseHandler4[a.contentId];if(f==null){this.$VideoPlayerFairplayLicenseHandler10();return}(h||(h=b("Promise"))).resolve().then(function(){return i.load()}).then(function(b){new b(f).setMethod("POST").setRawData(e).setResponseType("text").setResponseHandler(function(b){d.$VideoPlayerFairplayLicenseHandler11(b,a)}).setRequestHeader("Content-type","application/x-www-form-urlencoded").setErrorHandler(function(){d.$VideoPlayerFairplayLicenseHandler12()}).send()})["catch"](function(){d.$VideoPlayerFairplayLicenseHandler12()})};e.$VideoPlayerFairplayLicenseHandler11=function(a,b){var d=!1;try{var e=window.atob(a),f=new Uint8Array(new ArrayBuffer(e.length*2));for(var g=0,h=e.length;g<h;g++){var i=e.charCodeAt(g);(i<0||i>255)&&(d=!0);f[g]=i}b.update(f)}catch(b){i=b;g=typeof a!=="string"?"response was "+typeof a:a===""?"response was empty string":d?"key character overflow":"key potentially malformed";e=c("FBLogger")("VideoPlayerFairplayLicenseHandler");i instanceof Error&&(e=e.catching(i));e.warn("Fairplay License update failed: %s - %s",String(i),g);this.emit("error",{error:"Fairplay License update failed"})}};e.$VideoPlayerFairplayLicenseHandler7=function(){this.emit("error",{error:"Fairplay Key creation failed"})};e.$VideoPlayerFairplayLicenseHandler10=function(){this.emit("error",{error:"Fairplay Content ID not found"})};e.$VideoPlayerFairplayLicenseHandler9=function(){this.emit("error",{error:"Fairplay Content ID empty"})};e.$VideoPlayerFairplayLicenseHandler12=function(){this.emit("error",{error:"Fairplay License fetch failed"})};d.newIfSupported=function(a,b,c,e){return j!=null?new d(a,b,c,e):null};return d}(c("EventEmitter"));g["default"]=a}),98);